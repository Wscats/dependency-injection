{"version":3,"sources":["../src/subject-case.js"],"names":["ensure","negated","when","parsed","value","subject","checks","Array","isArray","map","check","case","result","some","r","list","c","join"],"mappings":";;;;;;AAAA;;IAAYA,M;;AACZ;;;;;;;;AAEA,IAAMC,UAAU,SAAVA,OAAU;AAAA,QAAQC,SAAS,OAAjB;AAAA,CAAhB;;kBAEe,UAACC,MAAD,EAASD,IAAT,EAAeE,KAAf,EAAyB;AAAA,KAChCC,OADgC,GACrBF,MADqB,CAChCE,OADgC;;;AAGvC,KAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAChC,SAAO,CAAC,IAAD,CAAP;AACA;;AAED,KAAMC,SAAS,CAACC,MAAMC,OAAN,CAAcJ,KAAd,IAAuBA,KAAvB,GAA+B,CAACA,KAAD,CAAhC,EAAyCK,GAAzC,CAA6C,iBAAS;AACpE,MAAI,OAAOC,KAAP,KAAiB,QAArB,EAA+B;AAC9B,UAAO;AACNR,UAAM,QADA;AAENS,UAAMD;AAFA,IAAP;AAIA;AACD,SAAOA,KAAP;AACA,EARc,CAAf;;AAUA,KAAME,SAASN,OAAOO,IAAP,CAAY,iBAAS;AACnC,MAAMC,IAAId,OAAOW,IAAP,CAAYN,OAAZ,EAAqBK,MAAMC,IAA3B,CAAV;AACA,SAAOV,QAAQS,MAAMR,IAAd,IAAsB,CAACY,CAAvB,GAA2BA,CAAlC;AACA,EAHc,CAAf;;AAKA,KAAMC,OAAOT,OAAOG,GAAP,CAAW;AAAA,SAAKO,EAAEL,IAAP;AAAA,EAAX,EAAwBM,IAAxB,CAA6B,IAA7B,CAAb;;AAEA,QAAO,CACNhB,QAAQC,IAAR,IAAgB,CAACU,MAAjB,GAA0BA,MADpB,EAEN,uBAAQ,CAAE,cAAF,EAAiBX,QAAQC,IAAR,IAAiB,KAAjB,GAAwB,IAAzC,EAAgD,MAAKa,IAAK,EAA1D,CAAR,CAFM,CAAP;AAIA,C","file":"subject-case.js","sourcesContent":["import * as ensure from '@commitlint/ensure';\nimport message from '@commitlint/message';\n\nconst negated = when => when === 'never';\n\nexport default (parsed, when, value) => {\n\tconst {subject} = parsed;\n\n\tif (typeof subject !== 'string') {\n\t\treturn [true];\n\t}\n\n\tconst checks = (Array.isArray(value) ? value : [value]).map(check => {\n\t\tif (typeof check === 'string') {\n\t\t\treturn {\n\t\t\t\twhen: 'always',\n\t\t\t\tcase: check\n\t\t\t};\n\t\t}\n\t\treturn check;\n\t});\n\n\tconst result = checks.some(check => {\n\t\tconst r = ensure.case(subject, check.case);\n\t\treturn negated(check.when) ? !r : r;\n\t});\n\n\tconst list = checks.map(c => c.case).join(', ');\n\n\treturn [\n\t\tnegated(when) ? !result : result,\n\t\tmessage([`subject must`, negated(when) ? `not` : null, `be ${list}`])\n\t];\n};\n"]}