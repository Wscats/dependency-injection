{"version":3,"sources":["../src/index.test.js"],"names":["ok","bold","green","actual","t","deepEqual","errors","warnings","msg","true","includes","level","name","message","err","prob","warn","signs"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,KAAK,gBAAMC,IAAN,CAAY,GAAE,gBAAMC,KAAN,CAAY,GAAZ,CAAiB,iCAA/B,CAAX;;AAEA,mBAAK,gCAAL,EAAuC,aAAK;AAC3C,KAAMC,SAAS,iBAAf;AACAC,GAAEC,SAAF,CAAYF,MAAZ,EAAoB,CAACH,EAAD,CAApB;AACA,CAHD;;AAKA,mBAAK,4CAAL,EAAmD,aAAK;AACvD,KAAMG,SAAS,gBAAO,EAAP,CAAf;AACAC,GAAEC,SAAF,CAAYF,MAAZ,EAAoB,CAACH,EAAD,CAApB;AACA,CAHD;;AAKA,mBAAK,mEAAL,EAA0E,aAAK;AAAA,eAChE,gBAAO;AACpBM,UAAQ,EADY;AAEpBC,YAAU;AAFU,EAAP,CADgE;AAAA;AAAA,KACvEC,GADuE;;AAM9EJ,GAAEK,IAAF,CAAOD,IAAIE,QAAJ,CAAa,wBAAb,CAAP;AACA,CAPD;;AASA,mBAAK,kDAAL,EAAyD,aAAK;AAAA,gBACpC,gBAAO;AAC/BJ,UAAQ,CACP;AACCK,UAAO,CADR;AAECC,SAAM,YAFP;AAGCC,YAAS;AAHV,GADO,CADuB;AAQ/BN,YAAU,CACT;AACCI,UAAO,CADR;AAECC,SAAM,cAFP;AAGCC,YAAS;AAHV,GADS;AARqB,EAAP,CADoC;AAAA;AAAA,KACtDC,GADsD;AAAA,KACjDC,IADiD;AAAA,KAC3CP,GAD2C;;AAkB7DJ,GAAEK,IAAF,CAAO,sBAASK,GAAT,EAAc,oBAAd,CAAP;AACAV,GAAEK,IAAF,CAAO,sBAASM,IAAT,EAAe,qBAAf,CAAP;AACAX,GAAEK,IAAF,CAAO,sBAASD,GAAT,EAAc,wBAAd,CAAP;AACA,CArBD;;AAuBA,mBAAK,mCAAL,EAA0C,aAAK;AAAA,gBAC1B,gBAAO;AAC1BF,UAAQ,CACP;AACCK,UAAO,CADR;AAECC,SAAM,YAFP;AAGCC,YAAS;AAHV,GADO,CADkB;AAQ1BN,YAAU,CACT;AACCI,UAAO,CADR;AAECC,SAAM,cAFP;AAGCC,YAAS;AAHV,GADS;AARgB,EAAP,CAD0B;AAAA;AAAA,KACvCC,GADuC;AAAA,KAClCE,IADkC;;AAkB9CZ,GAAEK,IAAF,CAAO,sBAASK,GAAT,EAAc,GAAd,CAAP;AACAV,GAAEK,IAAF,CAAO,sBAASO,IAAT,EAAe,GAAf,CAAP;AACA,CApBD;;AAsBA,mBAAK,0BAAL,EAAiC,aAAK;AAAA,gBACjB,gBACnB;AACCV,UAAQ,CACP;AACCK,UAAO,CADR;AAECC,SAAM,YAFP;AAGCC,YAAS;AAHV,GADO,CADT;AAQCN,YAAU,CACT;AACCI,UAAO,CADR;AAECC,SAAM,cAFP;AAGCC,YAAS;AAHV,GADS;AARX,EADmB,EAiBnB;AACCI,SAAO,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf;AADR,EAjBmB,CADiB;AAAA;AAAA,KAC9BH,GAD8B;AAAA,KACzBE,IADyB;;AAuBrCZ,GAAEK,IAAF,CAAO,sBAASK,GAAT,EAAc,KAAd,CAAP;AACAV,GAAEK,IAAF,CAAO,sBAASO,IAAT,EAAe,KAAf,CAAP;AACA,CAzBD","file":"index.test.js","sourcesContent":["import test from 'ava';\nimport chalk from 'chalk';\nimport includes from 'lodash.includes';\nimport format from '.';\n\nconst ok = chalk.bold(`${chalk.green('✔')}   found 0 problems, 0 warnings`);\n\ntest('does nothing without arguments', t => {\n\tconst actual = format();\n\tt.deepEqual(actual, [ok]);\n});\n\ntest('does nothing without .errors and .warnings', t => {\n\tconst actual = format({});\n\tt.deepEqual(actual, [ok]);\n});\n\ntest('returns empty summary of problems for empty .errors and .warnings', t => {\n\tconst [msg] = format({\n\t\terrors: [],\n\t\twarnings: []\n\t});\n\n\tt.true(msg.includes('0 problems, 0 warnings'));\n});\n\ntest('returns a correct of empty .errors and .warnings', t => {\n\tconst [err, prob, msg] = format({\n\t\terrors: [\n\t\t\t{\n\t\t\t\tlevel: 2,\n\t\t\t\tname: 'error-name',\n\t\t\t\tmessage: 'There was an error'\n\t\t\t}\n\t\t],\n\t\twarnings: [\n\t\t\t{\n\t\t\t\tlevel: 1,\n\t\t\t\tname: 'warning-name',\n\t\t\t\tmessage: 'There was a problem'\n\t\t\t}\n\t\t]\n\t});\n\n\tt.true(includes(err, 'There was an error'));\n\tt.true(includes(prob, 'There was a problem'));\n\tt.true(includes(msg, '1 problems, 1 warnings'));\n});\n\ntest('uses appropriate signs by default', t => {\n\tconst [err, warn] = format({\n\t\terrors: [\n\t\t\t{\n\t\t\t\tlevel: 2,\n\t\t\t\tname: 'error-name',\n\t\t\t\tmessage: 'There was an error'\n\t\t\t}\n\t\t],\n\t\twarnings: [\n\t\t\t{\n\t\t\t\tlevel: 1,\n\t\t\t\tname: 'warning-name',\n\t\t\t\tmessage: 'There was a problem'\n\t\t\t}\n\t\t]\n\t});\n\n\tt.true(includes(err, '✖'));\n\tt.true(includes(warn, '⚠'));\n});\n\ntest('uses signs as configured', t => {\n\tconst [err, warn] = format(\n\t\t{\n\t\t\terrors: [\n\t\t\t\t{\n\t\t\t\t\tlevel: 2,\n\t\t\t\t\tname: 'error-name',\n\t\t\t\t\tmessage: 'There was an error'\n\t\t\t\t}\n\t\t\t],\n\t\t\twarnings: [\n\t\t\t\t{\n\t\t\t\t\tlevel: 1,\n\t\t\t\t\tname: 'warning-name',\n\t\t\t\t\tmessage: 'There was a problem'\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tsigns: ['HNT', 'WRN', 'ERR']\n\t\t}\n\t);\n\n\tt.true(includes(err, 'ERR'));\n\tt.true(includes(warn, 'WRN'));\n});\n"]}