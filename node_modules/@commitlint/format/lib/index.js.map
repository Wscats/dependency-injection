{"version":3,"sources":["../src/index.js"],"names":["format","DEFAULT_SIGNS","DEFAULT_COLORS","report","options","signs","colors","color","enabled","errors","warnings","problems","map","sign","problem","level","decoration","name","grey","message","selectSign","selectColor","summary","length","bold"],"mappings":";;;;;;;;;;kBAKwBA,M;;AALxB;;;;;;AAEA,IAAMC,gBAAgB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAtB;AACA,IAAMC,iBAAiB,CAAC,OAAD,EAAU,QAAV,EAAoB,KAApB,CAAvB;;AAEe,SAASF,MAAT,GAA2C;AAAA,KAA3BG,MAA2B,uEAAlB,EAAkB;AAAA,KAAdC,OAAc,uEAAJ,EAAI;AAAA,sBAKrDA,OALqD,CAExDC,KAFwD;AAAA,KAExDA,KAFwD,kCAEhDJ,aAFgD;AAAA,uBAKrDG,OALqD,CAGxDE,MAHwD;AAAA,KAGxDA,MAHwD,mCAG/CJ,cAH+C;AAAA,sBAKrDE,OALqD,CAIxDG,KAJwD;AAAA,KAIjDC,OAJiD,kCAIvC,IAJuC;AAAA,sBAMpBL,MANoB,CAMlDM,MANkD;AAAA,KAMlDA,MANkD,kCAMzC,EANyC;AAAA,wBAMpBN,MANoB,CAMrCO,QANqC;AAAA,KAMrCA,QANqC,oCAM1B,EAN0B;;;AAQzD,KAAMC,WAAW,2CAAIF,MAAJ,oCAAeC,QAAf,GAAyBE,GAAzB,CAA6B,mBAAW;AACxD,MAAMC,OAAOR,MAAMS,QAAQC,KAAd,KAAwB,EAArC;AACA,MAAMR,QAAQD,OAAOQ,QAAQC,KAAf,KAAyB,OAAvC;AACA,MAAMC,aAAaR,UAAU,gBAAMD,KAAN,EAAaM,IAAb,CAAV,GAA+BA,IAAlD;AACA,MAAMI,OAAOT,UACV,gBAAMU,IAAN,CAAY,IAAGJ,QAAQG,IAAK,GAA5B,CADU,GAET,IAAGH,QAAQG,IAAK,GAFpB;AAGA,SAAQ,GAAED,UAAW,MAAKF,QAAQK,OAAQ,IAAGF,IAAK,EAAlD;AACA,EARgB,CAAjB;;AAUA,KAAMJ,OAAOO,WAAW,EAACX,MAAD,EAASC,QAAT,EAAX,CAAb;AACA,KAAMH,QAAQc,YAAY,EAACZ,MAAD,EAASC,QAAT,EAAZ,CAAd;;AAEA,KAAMM,aAAaR,UAAU,gBAAMD,KAAN,EAAaM,IAAb,CAAV,GAA+BA,IAAlD;AACA,KAAMS,UAAW,GAAEN,UAAW,YAAWP,OAAOc,MAAO,cACtDb,SAASa,MACT,WAFD;AAGA,mDAAWZ,QAAX,IAAqBH,UAAU,gBAAMgB,IAAN,CAAWF,OAAX,CAAV,GAAgCA,OAArD;AACA;;AAED,SAASF,UAAT,CAAoBjB,MAApB,EAA4B;AAC3B,KAAIA,OAAOM,MAAP,CAAcc,MAAd,GAAuB,CAA3B,EAA8B;AAC7B,SAAO,GAAP;AACA;AACD,QAAOpB,OAAOO,QAAP,CAAgBa,MAAhB,GAAyB,GAAzB,GAA+B,GAAtC;AACA;;AAED,SAASF,WAAT,CAAqBlB,MAArB,EAA6B;AAC5B,KAAIA,OAAOM,MAAP,CAAcc,MAAd,GAAuB,CAA3B,EAA8B;AAC7B,SAAO,KAAP;AACA;AACD,QAAOpB,OAAOO,QAAP,CAAgBa,MAAhB,GAAyB,QAAzB,GAAoC,OAA3C;AACA","file":"index.js","sourcesContent":["import chalk from 'chalk';\n\nconst DEFAULT_SIGNS = [' ', '⚠', '✖'];\nconst DEFAULT_COLORS = ['white', 'yellow', 'red'];\n\nexport default function format(report = {}, options = {}) {\n\tconst {\n\t\tsigns = DEFAULT_SIGNS,\n\t\tcolors = DEFAULT_COLORS,\n\t\tcolor: enabled = true\n\t} = options;\n\tconst {errors = [], warnings = []} = report;\n\n\tconst problems = [...errors, ...warnings].map(problem => {\n\t\tconst sign = signs[problem.level] || '';\n\t\tconst color = colors[problem.level] || 'white';\n\t\tconst decoration = enabled ? chalk[color](sign) : sign;\n\t\tconst name = enabled\n\t\t\t? chalk.grey(`[${problem.name}]`)\n\t\t\t: `[${problem.name}]`;\n\t\treturn `${decoration}   ${problem.message} ${name}`;\n\t});\n\n\tconst sign = selectSign({errors, warnings});\n\tconst color = selectColor({errors, warnings});\n\n\tconst decoration = enabled ? chalk[color](sign) : sign;\n\tconst summary = `${decoration}   found ${errors.length} problems, ${\n\t\twarnings.length\n\t} warnings`;\n\treturn [...problems, enabled ? chalk.bold(summary) : summary];\n}\n\nfunction selectSign(report) {\n\tif (report.errors.length > 0) {\n\t\treturn '✖';\n\t}\n\treturn report.warnings.length ? '⚠' : '✔';\n}\n\nfunction selectColor(report) {\n\tif (report.errors.length > 0) {\n\t\treturn 'red';\n\t}\n\treturn report.warnings.length ? 'yellow' : 'green';\n}\n"]}